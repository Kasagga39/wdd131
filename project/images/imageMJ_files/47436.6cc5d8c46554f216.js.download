"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[47436],{309394:(e,r,i)=>{i.d(r,{y:()=>w});var t=i(862243),n=i(27499),s=i(377473),a=i(968481),o=i.n(a),d=i(947058),l=i(712633),c=i(458335);let p=/http.*.com/,{publicRuntimeConfig:{assets:{avatarThumbsUrl:u}}}=o()(),w=()=>{let{data:e,isLoading:r}=(0,l.rA)(),{data:i,isLoading:a}=(0,d.M)({queryParams:{site_name:n.ln}}),{data:o,isLoading:w,setQueryData:f}=(0,c.R)(e?.id),U={};if(e?.id&&o&&o?.length>=1){let r=`${e?.id}-${e?.organizationId}`,i=o?.find(e=>e?.id===r);i&&(U=i)}if(!e?.organizationId)return{...e,userType:e?.id?s.zv:void 0,isEnterpriseUser:!1,workspaces:o};if(r||w||a)return{};let y={},g=U?.type;if(e){let{roles:r=[]}=e;y={...y,...e,isAdmin:r.includes(t.lc)}}if(i){let{avatarOriginalUrl:e,avatarThumbnailUrl:r}=i;y={...y,avatarThumbnailUrl:r?.replace(p,u),avatarOriginalUrl:e}}return{...y,isEnterpriseUser:g===s.uX,userType:g,workspaces:o,teamName:U?.displayName,maxUsers:U?.maxUsers,currentUserWorkspace:U,updateCurrentUserWorkspaceName:e=>{f(r=>r.map(r=>r.id===U.id?{...r,displayName:e}:r))}}}},458335:(e,r,i)=>{i.d(r,{R:()=>c});var t=i(924247),n=i(910163),s=i(617853),a=i(513800),o=i(854898),d=i(455899),l=i(600538);let c=e=>{let r=(0,s.P)(),i=(0,d.jE)(),c={urlParams:{id:e},queryParams:{...r&&{accept_invite:1}}},p=(0,t.k0)(c).formattedUrl,{data:u,isLoading:w}=(0,l.I)((0,n.Rt)({queryKey:[p],queryFn:async()=>{let{data:e}=await a.Bn.get(p);return e?(0,o.A)(e):void 0},enabled:!!e}));return{data:u,isLoading:w,setQueryData:async e=>i.setQueryData([p],e)}}},747436:(e,r,i)=>{i.r(r),i.d(r,{LoggedInUserTypeRedirect:()=>U});var t=i(723463),n=i(193581),s=i(726325),a=i(309394),o=i(617853),d=i(241607),l=i(946887),c=i(968481),p=i.n(c),u=i(330633);let{publicRuntimeConfig:{enterpriseBaseUrl:w,shutterstockBaseUrl:f}}=p()(),U=()=>{let e=(0,a.y)(),{isBrandEnterprise:r,isBrandSstk:i}=(0,s.P)(),c=(0,o.P)();return(0,u.useEffect)(()=>{if(e&&!c&&(!i||e.isEnterpriseUser)&&(!r||!e.isEnterpriseUser)){if(i&&e.isEnterpriseUser){if(window.location.href.includes(f)){window.NREUM?.addPageAction?.("UP3-1623 assign enterprise url to href",{...window.location||{},enterpriseBaseUrl:w,isBrandEnterprise:r,isBrandSstk:i,isEnterpriseUser:e.isEnterpriseUser,shutterstockBaseUrl:f}),window.location.href=window.location.href.replace(f,w);return}window.NREUM?.addPageAction?.("UP3-1623 force the experience into enterprise by reload",{...window.location||{},isBrandEnterprise:r,isBrandSstk:i,isEnterpriseUser:e.isEnterpriseUser,...e}),l.A.set(t.bE,t.w8),(0,d.Ld)("entCookieSet");return}if(r&&void 0!==e.userType&&!e.isEnterpriseUser){if(window.location.href.includes(w)){l.A.remove(n.eT),window.NREUM?.addPageAction?.("UP3-1623 force the experience into enterprise by setting the href",{...window.location||{},isBrandSstk:i,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser,enterpriseBaseUrl:w,shutterstockBaseUrl:f,...e}),window.location.href=window.location.href.replace(w,f);return}window.NREUM?.addPageAction?.("UP3-1623 force the experience into www by reload",{...window.location||{},isBrandSstk:i,isBrandEnterprise:r,isEnterpriseUser:e.isEnterpriseUser,...e}),l.A.set(t.bE,t.Eq),(0,d.Ld)("sstkCookieSet")}console.log("UP3-1623 this is an unexpected scenario")}},[e,r,i,c]),null}},947058:(e,r,i)=>{i.d(r,{M:()=>w,g:()=>u});var t=i(924247),n=i(737578),s=i(27499),a=i(430179),o=i(910163),d=i(712633),l=i(513800),c=i(854898),p=i(600538);let u="useFetchOrganizationSettings",w=({queryParams:e}={})=>{let{data:r}=(0,d.rA)(),i={target:n.A_I,site_name:s.RJ,setting_type:n.A_I,...e};return(0,p.I)((0,o.Rt)({enabled:!!r?.id&&!!r?.organizationId,queryKey:[u,i],queryFn:()=>l.Bn.get((0,t.h_)({queryParams:i}).formattedUrl).then(e=>(0,c.A)(e.data)),staleTime:a.iW}))}}}]);
//# sourceMappingURL=47436.6cc5d8c46554f216.js.map