"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80015],{28061:(e,a,t)=>{t.d(a,{O:()=>r});var n=t(859478);let r=e=>{let{pathname:a}=(0,n.useRouter)();return{isAllowedPages:e.some(e=>a.includes(e))}}},43548:(e,a,t)=>{t.d(a,{mA:()=>j});var n=t(924247),r=t(341573),s=t(28071),i=t(654366),m=t(50432),o=t(737578),l=t(499244),d=t(991418),p=t(912075),c=t(685691),g=t(92872),_=t(376403),u=t(585943),y=t(637758),f=t(936746),I=t(502463),S=t(868103),F=t(88428),b=t(584001),h=t(222851),v=t(726325),A=t(678540),G=t(513800),w=t(330633);let R=({assets:e})=>{let a=(0,A.f0)(e[0]);return{include:"subscriptions",content_type:(0,g.Uw)({assetType:a,assetId:e[0]?.id}),content_ids:e.reduce((e,a)=>[...e,a.id.toString()],[]).join(",")}},$=({assets:e})=>{let a={};return e.forEach(e=>{let t=(0,A.f0)(e),n=(0,g.Uw)({assetId:e.id,assetType:t});a[n]=[...a[n]?a[n]:[],e]}),a},k=({assetEligibility:e})=>{let{permittedLicenses:a,subscriptions:t}=e;return t?.filter(({license:e})=>a.includes(e.replace("_unlimited","")))},C=({assets:e=[],user:a})=>{let t=$({assets:e});return Object.values(t)?.map(e=>{let t=R({assets:e}),{formattedUrl:r}=(0,n.kE)({urlParams:{licenseeIdentifier:`organization-${a?.organizationId}`},queryParams:t});return G.Bn.get(r)})},T=({data:e})=>{let a=[];return e.map(e=>{let t=e.id.split("-"),n=t[t.length-1],r=k({assetEligibility:e});return a.push({assetId:n,subscriptions:r})}),a};var q=t(712633),O=t(973097),V=t(332546),x=t(854898),N=t(877303),z=t(863735),M=t(174883),P=t(13879);let U={[o.jO3]:n.DH,[o.miZ]:n.E6},D=({asset:e,subscriptions:a})=>{let t=(0,g.ZC)({asset:e}),{licenseId:n,contentTier:r}=e;switch(t){case s.G_:return(0,S.N)({assetType:s.G_,subscriptions:[...a?.videoSubscriptions??[],...a?.videoCompSubscriptions??[]],selectedLicenseId:n});case s.on:case s.FY:return(0,F.A)({subscriptions:[...a.musicSubscriptions,...a.musicCompSubscriptions],licenseName:e.licenseId});case s.M9:return(0,F.A)({subscriptions:[...a.sfxSubscriptions,...a.sfxCompSubscriptions],licenseName:e.licenseId});case s.uH:return(0,F.A)({subscriptions:[...a.editorialImageSubscriptions,...a.editorialImageCompSubscriptions,...a.editorialVideoSubscriptions,...a.editorialVideoCompSubscriptions],licenseName:e.licenseId,contentTier:r});case s.W1:default:return(0,F.A)({subscriptions:[...a.imageSubscriptions,...a.imageCompSubscriptions],licenseName:e.licenseId,contentTier:r})}},E=({asset:e,subscriptions:a})=>{let t=D({asset:e,subscriptions:a});return(0,I.t)({subscription:t})?{...t,creditPrice:s.Mp,creditType:l.EV}:t},j=()=>{let{isBrandEnterprise:e}=(0,v.P)(),{data:a}=(0,O.R7)(),[t,n]=(0,w.useState)(!1),[l,I]=(0,w.useState)(""),[F,A]=(0,w.useState)({}),{data:R}=(0,q.rA)(),[,$]=(0,N.Ry)(e=>e),k=(0,V.Jz)(),{analytics:D}=(0,V.pn)(),j=(0,p.cv)(D),B=(0,f.H)(j),J=k||(0,z.vb)(),L=(0,b.i)(),H=(0,h.Z)(),Z=(0,P.mj)(),{locale:Y}=(0,d.Y)(),{sendOrderConfirmationEmails:K}=(0,M.k)();return{isLicensing:t,licensingAssetsHandler:(0,w.useCallback)(async({alreadyLicensedAssets:t=[],assets:l=[],cartMetadata:d={},format:p="",licenseeMetadata:f={},isVideoComp:F=!1,licenseMetadata:b={},licensingType:h,selectedAssetSize:v=""})=>{let w,k,q=async()=>{let t=T({data:(await Promise.all(C({assets:l,user:R}))).map(({data:e})=>(0,x.A)(e)).flat()}),n=l.map(async e=>{let a=(0,g.ZC)({asset:e}),{licenseId:n}=e,{subscriptions:r}=t?.find(({assetId:a})=>a===String(e.id))||{},{id:m,license:o}=(0,S.N)({assetType:a,subscriptions:r,selectedLicenseId:n})||{},l=await (0,c.og)({asset:e,format:p,selectedAssetSize:v,licenseName:o,isVideoComp:F});return{...l,...v&&u.N[v]&&{comp_size:v},...a===s.M9&&{override_filename:`${i.wT}_${e.id}.${p||l.content_format}`},...a===s.m$&&{content_provider:s._Y},license_name:o,show_modal:!0,subscription_id:m}});return{licensingPayload:{content:await Promise.all(n),license_metadata:b,required_cookies:"",decode_hadron_ids:e},orderMetadata:l.map(e=>{let{currency:t,description:n,descriptionLanguageMap:r={},id:s,itemType:i,headline:m,licenseId:o,preview:l={},price:d,priceType:p,src:c,thumb:g,thumbImageUrl:_,title:u,type:y}=e,f=t,I=d,S=p;if(!f||!I||!S){let{creditCurrency:t,creditPrice:n,creditType:r}=E({asset:e,subscriptions:a});f=f||t,I=I||n,S=p||r}return f&&!w&&(w=f),S&&!k&&(k=S),{description:r[Y]||n,formattedPrice:H({price:I,localeCurrencyOverride:f,priceType:S}),headline:m,id:s,itemType:i,licenseId:o,licenseName:Z({licenseName:o}),price:I,priceType:S,thumbnailSrc:c||_||l.url||g,title:u,type:y}})}};try{n(!0),I("");let{licensingPayload:e,orderMetadata:a}=await q(),s=U[h]({urlParams:{licenseeIdentifier:`organization-${R?.organizationId}`}}).formattedUrl,i=e?.content?.length>=45,p={...(0,y.H)({trackingId:J,...B?{headers:{[m.ed]:B}}:{}}),...i?{timeout:3e4}:{}},c=await G.Bn.post(s,e,p);if(L({assets:l}),$({assets:l,metadata:d,licensedContent:(0,x.A)(c.data)?.meta?.licensedContent||[]}),!l.some(({licenseId:e})=>o.t9I.includes(e))){let e=a.filter(e=>!(0,_.en)({alreadyLicensedAssets:t,asset:e}));K({cartTotalCurrency:w,filteredOrderMetadata:e,licenseMetadata:f,priceType:k})}return I(r.qO),c}catch(n){let e=(0,_.nR)({error:n,user:R}),a=(0,_.A)({assets:l});throw window.NREUM?.addPageAction?.("Enterprise licensing error",{...e,alreadyLicensedAssets:t,assets:l.map(({id:e,type:a})=>({id:e,type:a})),cartMetadata:d,format:p,licenseeMetadata:f,licenses:a,isVideoComp:F,licenseMetadata:b,licensingType:h,selectedAssetSize:v}),A(n),I(r.Nz),n}finally{n(!1)}},[R,e,Y,H,Z,a,J,L,$,K,B]),licensingError:F,licensingStatus:l,setIsLicensing:n,setLicensingStatus:I}}},55422:(e,a,t)=>{t.d(a,{l:()=>r});var n=t(862243);let r=({user:e})=>e?.roles?.includes(n.lc)},174883:(e,a,t)=>{t.d(a,{k:()=>h});var n=t(417594),r=t(872538),s=t(802705),i=t(681705),m=t(991418),o=t(509749),l=t(222851),d=t(947058),p=t(712633),c=t(308486),g=t(135985),_=t(513800),u=t(599892),y=t(937131),f=t(330633);let I=new RegExp(i.X),S=(e={})=>{let{emailCartCheckoutConfirmation:a,orderEmail:t}=e;return a&&t?t.split(",").filter(e=>I.test(e)):[]},F=({purchaseOrder:e})=>`${e?.[0]} : ${e?.[1]}`.split(" ").map(e=>(0,u.Z)(e)).join(" "),b=({t:e,keys:{currentYear:a,emailAddress:t,purchaseOrder:n}})=>({copyright:e("site-footer:copyright",{CURRENT_YEAR:a}),emailSentTo:e("ent:email_sent_to",{EMAIL_ADDRESS:t}),emailSubjectLine:`${e("ent:order_confirmation_email_subject")} | ${F({purchaseOrder:n})}`,name:e("account:profile_name"),needAssistance:e("ent:contact_sales_representative"),orderConfirmation:e("ent:order_confirmation"),purchaseInformation:e("ent:purchase_information_key"),shutterstockAddress:e("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:e("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:e("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:e("ent:not_an_invoice")}),h=()=>{let{t:e}=(0,y.Bd)(n._RK),{data:a}=(0,p.rA)(),{data:t}=(0,c.M)(),{data:i}=(0,d.M)(),{name:u,email:I,phone:F}=(0,g.e)({fetchTrigger:!0})||{},{locale:h,fullLocale:v}=(0,m.Y)(),A=(0,l.Z)();return{sendOrderConfirmationEmails:(0,f.useCallback)(({cartTotalCurrency:n,filteredOrderMetadata:m,licenseMetadata:l,priceType:d}={})=>{let p=[...t?.emailCartCheckoutConfirmation?[a?.email]:[],...S(i)];if(p.length&&m?.length){let t=b({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:a?.email,purchaseOrder:Object.entries(l)[0],repName:u,repPhoneNumber:F,repEmail:I}});try{let e={cartItems:m,fullName:a?.fullName,invoiceDate:new Intl.DateTimeFormat(v).format(new Date),labels:t,licenseMetadata:l,repEmail:I,repName:u,repPhoneNumber:F,totalAmount:A({price:(0,o.bc)(m,[]),localeCurrencyOverride:n,priceType:d}),username:a?.username};_.Y$.post((0,r.J9)().formattedUrl,{emails:[...new Set(p)],emailBody:e,emailSubject:`${t.emailSubjectLine}`,language:h})}catch(e){window.NREUM?.setTransactionName?.(`sendOrderConfirmationEmail/${s.o5}`),window.NREUM?.noticeError?.(e,{message:`Failed sending order confirmation emails to: ${p.join(", ")}`})}}},[v,h,i,A,I,u,F,e,a?.email,a?.fullName,a?.username,t?.emailCartCheckoutConfirmation])}}},235588:(e,a,t)=>{t.d(a,{F:()=>S});var n=t(417594),r=t(932862),s=t(514167),i=t(341573),m=t(323532),o=t(650441),l=t(307528),d=t(478241),p=t(726325),c=t(936139),g=t(637758),_=t(513985);let u=async({items:e,trackingId:a,isAppeal:t=!1})=>{0!==e.length&&await (0,_.A)("/message-gateway/ip-review",{method:"POST",requireAuth:!0,...(0,g.H)({trackingId:a}),body:{isAppeal:t,media:e.map(e=>({mediaId:e}))}})};var y=t(455899),f=t(937131),I=t(330633);let S=({trackingId:e="",updateRequestCache:a,onComplete:t=()=>{}}={})=>{let g=(0,c.s)("/"),{isBrandEnterprise:_,brand:S}=(0,p.P)(),{isEligibleSmbHumanReview:F}=(0,s.m)(),b=(0,y.jE)(),{enqueueSnackbar:h}=(0,o.d)(),{t:v}=(0,f.Bd)(n.HPg);return{queueIpReview:(0,I.useCallback)(async(n,s)=>{if(!_&&!F)return;let o=Array.isArray(n)?n:[n],p=o.reduce((e,a)=>(0,l.iu)(a)?[...e,String(a.id)]:e,[]);if(!p.length)return;let c=(await b.fetchQuery({queryKey:(0,d.IF)({assetIds:p}),queryFn:({queryKey:e})=>(0,d.tz)(g,e)})).reduce((e,a)=>a?.isIpReviewed===!1&&(a?.ipReviewStatus===""||a.isAppealable&&s&&a.ipReviewStatus===m.Vj)?[...e,a]:e,[]);try{if(c.length){await u({items:c.map(e=>e?.classicId),trackingId:e,isAppeal:s??!1});let n=c.map(e=>(b.setQueryData(e.queryKey,[{...e,isIpReview:!1,ipReviewStatus:m.eG}]),b.invalidateQueries({queryKey:e.queryKey,predicate:({queryKey:a})=>a===e.queryKey}))),{formattedRequest:i}=(0,r.Nz)({brand:S,experiments:{},assetId:""}),l=b.invalidateQueries({exact:!1,queryKey:[{...i,variables:{},headers:{}}],refetchType:"active",predicate:()=>!0});await Promise.all([...a?[a({reviewStatus:m.eG})]:[],...n,l]),t(o)}}catch(a){h({alertSeverity:i.ff,error:a,message:v("ip_review_error"),reason:"Error adding assets to queue for IP review"}),window.NREUM?.noticeError?.(a,{message:`Error adding assets to queue for IP review: ${c.map(e=>e?.classicId).join(", ")}
trackingId: ${e}`})}},[S,_,b,g,e,a,t,F,h,v])}}},380015:(e,a,t)=>{t.d(a,{x:()=>q});var n=t(417594),r=t(439001),s=t(545875),i=t(677550),m=t(528662),o=t(279096),l=t(235588),d=t(424989),p=t(43548),c=t(947058),g=t(643254),_=t(648903),u=t(937131),y=t(330633),f=t(424629),I=t(202138),S=t(304144),F=t(630888),b=t.n(F);let h=b()(()=>Promise.all([t.e(69542),t.e(98289)]).then(t.bind(t,753986)).then(e=>({default:e.CompLicensingDialog})),{loadableGenerated:{webpack:()=>[753986]},ssr:!1}),v=({isOpen:e,...a})=>(0,S.G)(e)&&(0,f.jsx)(h,{isOpen:e,...a}),A=b()(()=>Promise.all([t.e(27510),t.e(69542),t.e(80401),t.e(69951),t.e(32982),t.e(69071)]).then(t.bind(t,156251)).then(e=>({default:e.CompLicensingDrawer})),{loadableGenerated:{webpack:()=>[156251]},ssr:!1}),G=({isOpen:e,...a})=>(0,S.G)(e)&&(0,f.jsx)(A,{isOpen:e,...a}),w=b()(()=>t.e(26755).then(t.bind(t,526755)).then(e=>({default:e.CompLicensingSnackbar})),{loadableGenerated:{webpack:()=>[526755]},ssr:!1}),R=({isOpen:e,...a})=>(0,S.G)(e)&&(0,f.jsx)(w,{isOpen:e,...a});var $=t(376403);let k=({licensingError:e={}}={})=>{let{t:a}=(0,u.Bd)(n.mAv);return{cancel:a("common:actions_cancel"),downloadComp:a("common:actions_download_comp"),enterpriseCompLicense:a("ent:license_enterprise_comp"),genericErrorMessage:a("ent:license_now_error_message"),licensingError:(0,$.KC)({error:e,t:a}),licenseSuccess:a("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:a("common:actions_download_comp"),disclaimer:(0,f.jsx)(u.x6,{i18nKey:"ent:comp_disclaimer",ns:n.mAv,components:{bold:(0,f.jsx)("strong",{})}}),addMetadataToAsset:a("ent:add_metadata_to_asset_comp"),metadataFound:a("ent:previous_metadata_found_comp"),metadataMissing:a("ent:previous_metadata_missing_comp"),title:a("ent:add_metadata_to_comp")}}},C=({assets:e=null,compLicensingHandler:a,isDialogOpen:t=!1,isDrawerOpen:n=!1,isLicensing:r=!1,isSnackBarOpen:s=!1,licensingError:i=I.vB,onDialogClose:m,onDrawerClose:o,onSnackbarClose:l,selectedAssetSize:d="",setSelectedAssetSize:p,settingsData:c=I.vB})=>{let g=k({licensingError:i});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(v,{assets:e,isOpen:t,onClose:m,onLicense:a,labels:g,isLicensing:r,selectedAssetSize:d,setSelectedAssetSize:p,settingsData:c}),(0,f.jsx)(G,{assets:e,isLicensing:r,isOpen:n,labels:g,onClose:o,onLicense:a,selectedAssetSize:d}),(0,f.jsx)(R,{isOpen:s,message:g.licensingError,onClose:l})]})};var T=t(681892);let q=({allowMetadata:e=!0}={})=>{let[a,t]=(0,y.useState)(null),[f,I]=(0,y.useState)(""),[S,F]=(0,y.useState)(""),[b,h]=(0,y.useState)(!1),[v,A]=(0,y.useState)(!1),[G,w]=(0,y.useState)(!1),{isLicensing:R,licensingError:$,licensingStatus:k,setLicensingStatus:q,licensingAssetsHandler:O}=(0,p.mA)(),V=(0,m.$)(),{data:x}=(0,c.M)(),N=(0,d.Y)(x),z=(0,s.Q)(),{t:M}=(0,u.Bd)(n.EJ3),P=M("file_name_edited"),{getSearchContext:U}=(0,o.J)(),D=(0,g.O)(),{queueIpReview:E}=(0,l.F)({trackingId:U()?.search_tracking_id,onComplete:D}),{checkGate:j}=(0,_.U)(),B=j(r.Cq),J=(0,y.useCallback)(async({assets:e=[],assetSize:a,eventLabel:t,format:n,metadata:r,pageSection:s,listId:i})=>{I(e[0].id);let m=!1;try{let m=await (0,T.lw)({assets:e,assetSize:a,format:n,metadata:r,selectedAssetSize:S}),{data:o}=await O(m);if(!((0,T.CN)(e)&&1===e.length)){let a=(0,T.sD)(e)?N:void 0,n=z?.current?.isPeacock?a=>z.current.downloader.resolveUrl(e[0],a,P,o?.meta?.licensedContent):void 0;await (0,T.jZ)({assets:e,compSize:a,licensedContent:o?.meta?.licensedContent,downloader:n,shouldUseClientZip:B}),V({assets:e,eventLabel:t,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:s,listId:i})}}catch(e){m=e}return E(e),I(""),m&&!v&&w(!0),{error:m}},[v,N,O,V,S,P,z,E,B]),L=(0,y.useCallback)(async({assets:a,assetSize:n,format:r,eventLabel:s,metadata:m,pageSection:o,listId:l})=>(t(a),q(""),!b&&(0,i.wy)(a))?(h(!0),Promise.resolve(null)):!v&&x?.requireMetadataForComp&&!m&&e?(n&&F(n),A(!0),Promise.resolve(null)):J({assets:a,assetSize:n,eventLabel:s,format:r,metadata:m,pageSection:o,listId:l}),[e,J,b,v,x,q]),H=(0,y.useMemo)(()=>({assets:a,compLicensingHandler:L,compLicensingRequest:J,isDialogOpen:b,isDrawerOpen:v,isLicensing:R,isSnackBarOpen:G,licensingError:$,onDialogClose:()=>h(!1),onDrawerClose:()=>A(!1),onSnackbarClose:()=>w(!1),selectedAssetSize:S,setSelectedAssetSize:F,settingsData:x}),[a,L,J,b,v,R,G,$,S,x]);return{assetsToLicense:a,compLicensingHandler:L,compLicensingProps:H,CompLicensingViews:C,licensingAssetId:f,licensingStatus:k}}},424989:(e,a,t)=>{t.d(a,{Y:()=>s});var n=t(55422),r=t(712633);let s=e=>{let{data:a}=(0,r.rA)();return(0,n.l)({user:a})?e?.compSizeImage:e?.compSizeSubImage}},478241:(e,a,t)=>{t.d(a,{tz:()=>c,IF:()=>d,gu:()=>g});var n=t(842561);let r=JSON.parse('{"id":"bc956f146a0edcca28032e5bceffb432436294ff7f6e057ef614c71de1d82cdb","type":"query","name":"FetchAssetReviewStatusData","source":"query FetchAssetReviewStatusData($where:MediaWhere!){creativeImages(where:$where){data{classicId ipReviewStatus{isAppealable rejectionReasons status __typename}isIpReviewed referenceIds{name namespace value __typename}__typename}__typename}}"}');var s=t(936139),i=t(754157),m=t(455899),o=t(600538),l=t(330633);let d=({assetIds:e})=>[r.source,{where:{classicIds:e}}],p=e=>e?.creativeImages?.data?e.creativeImages.data.filter(e=>null!==e).map(e=>{let a=e?.isIpReviewed||!1,t=e?.classicId||"";return{classicId:t,isIpReviewed:a,ipReviewStatus:e?.ipReviewStatus?.status||"",isAppealable:e?.ipReviewStatus?.isAppealable??!1,queryKey:d({assetIds:[t]})}}):[],c=async(e,a)=>{let[t,n]=a;return e(t,n).then(p)},g=({assetIds:e},a)=>{let t=(0,s.s)("/"),r=(0,i.v)(),p=(0,m.jE)(),g=d({assetIds:e}),_=(0,l.useCallback)(({reviewStatus:e})=>(p.setQueryData(g,a=>[{...a[0],isIpReview:!1,ipReviewStatus:e}]),p.invalidateQueries({queryKey:g,predicate:({queryKey:e})=>e===g})),[g,p]),{data:u,isLoading:y,error:f}=(0,o.I)({enabled:a,queryKey:g,queryFn:({queryKey:e})=>c(t,e),throwOnError:(e,{queryKey:a})=>(e&&r({error:e,msg:n.a_,customAttributes:{queryKey:a}}),!1)});return{data:u,error:f,isLoading:y,updateReviewStatus:_}}},509749:(e,a,t)=>{t.d(a,{$R:()=>I,Bq:()=>b,HD:()=>y,KS:()=>f,NS:()=>l,Ox:()=>d,bc:()=>h,nu:()=>p,sI:()=>c});var n=t(28071),r=t(203216),s=t(650764),i=t(930726),m=t(376403),o=t(678540);let l=({licenseName:e,cartData:a,asset:t})=>e?!!a?.items.find(a=>a.id===t?.id&&a.licenseId===e):!!a?.items.find(e=>e.id===t?.id),d=({asset:e,unavailableAssets:a})=>!a.find(a=>a.contentId===(0,o.qQ)({asset:e})&&a.contentType===e.type),p=({errors:e=[]}={})=>e.some(e=>s.S_.includes(e)),c=({cachedCart:e,newItems:a})=>{let t=[...e?.items||[],...a];return{...e,items:t,count:t.length}},g=({item:e,licensedAssets:a})=>a?.find(({contentId:a})=>a===String(e.id))?0:e.isUnlimited?.1:parseFloat(e.price),_=({item1:e={},item2:a={},sortOrder:t,licensedAssets:n})=>{let r=g({item:e,licensedAssets:n}),s=g({item:a,licensedAssets:n});return t===i.Zy?r-s:s-r},u=({item1:e,item2:a,sortField:t="addedTime",sortOrder:n})=>n===i.Zy?Number(new Date(a[t]))-Number(new Date(e[t])):Number(new Date(e[t]))-Number(new Date(a[t])),y=({primaryCart:e,sortField:a,sortOrder:t,alreadyLicensedPrimaryAssets:n})=>e.sort((e,s)=>a===r.v3.ADDED_TIME?u({item1:e,item2:s,sortField:a,sortOrder:t}):_({item1:e,item2:s,sortField:a,sortOrder:t,licensedAssets:n})),f=({rolodexAddress:e})=>{let[a,t]=e.streetLines?.split("\n")||[],{locality:n,postalCode:r,region:s,country:i,company:m}=e;return{country:i,company:m,city:n,zip:r,state:s,address1:a,address2:t}},I=({billingEntity:e})=>e?.rolodexAddresses?.find(e=>"licensing"===e.addressType||e.usages?.includes("licensing"))||{},S=({asset:e,alreadyLicensedAssets:a})=>e?.price===n.Mp||(0,m.en)({alreadyLicensedAssets:a,asset:e}),F=({acc:e,asset:a,alreadyLicensedAssets:t})=>S({asset:a,alreadyLicensedAssets:t})?e:e+parseFloat(a?.price),b=(e=[],a)=>a?e.filter(({isUnavailableAsset:e})=>!e).reduce((e,t)=>F({acc:e,asset:t,alreadyLicensedAssets:a}),0):0,h=(e=[],a)=>e.every(({price:e})=>e===n.Mp)?n.Mp:b(e,a)},584001:(e,a,t)=>{t.d(a,{i:()=>m});var n=t(912075),r=t(279096),s=t(332546),i=t(330633);let m=()=>{let{analytics:e}=(0,s.pn)(),{getSearchContext:a}=(0,r.J)();return(0,i.useCallback)(({assets:t=[]})=>{let r=a(t[0]);e.productLicensed({products:t.map(e=>(0,n.Un)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:r})},[e,a])}},643254:(e,a,t)=>{t.d(a,{O:()=>F});var n=t(424629),r=t(173606),s=t(417594),i=t(28061),m=t(97175),o=t(341573),l=t(822278),d=t(650441),p=t(726325),c=t(202138),g=t(937131),_=t(330633),u=t(426858),y=t(778219);let f=({t:e,isOpen:a=!1,onClose:t=c.lQ,labelTrack:n})=>{let r=(0,y.A)().replace(/-/g,""),s=()=>t(r);return{id:r,alertAction:{label:e("ai_review_process_snackbar:close"),onClick:s},setEntered:()=>{},alertSeverity:o.rD,handleSnackbarClose:s,message:e("ai_review_process_snackbar:text"),labelTrack:n,noAutoHide:!1,isOpen:a}},I=(0,u.n9)()(({tokens:{font:e,color:a}})=>({linkView:{textDecoration:"underline",fontSize:e.size.s,color:a.white,cursor:"pointer"}})),S=({t:e})=>{let{classes:a}=I();return(0,n.jsx)(r.A,{component:"p",children:(0,n.jsx)(g.x6,{ns:s.PeN,i18nKey:"ai_review_process_snackbar:text",components:{linkView:(0,n.jsx)(m.N,{href:"/catalog/ai-review",linkAs:"/catalog/ai-review",className:a.linkView,"data-automation":"view_ai_review_statuses_link"})},t:e})})},F=(e=0)=>{let{isBrandEnterprise:a}=(0,p.P)(),{enqueueSnackbar:t,dequeueSnackbar:r}=(0,d.d)(),{t:m}=(0,g.Bd)(a?s.PeN:""),{isAllowedPages:o}=(0,i.O)(["/generate","/image-generated","/ai-image-generator/history"]),c=a&&o;return(0,_.useCallback)(()=>{let a=f({t:m,labelTrack:l.wju,isOpen:c,onClose:r});setTimeout(()=>{t({...a,message:(0,n.jsx)(S,{t:m})})},e)},[e,m,c,r,t])}},681892:(e,a,t)=>{t.d(a,{CN:()=>y,e4:()=>p,jZ:()=>c,lw:()=>u,sD:()=>f});var n=t(924247),r=t(28071),s=t(737578),i=t(997495),m=t(92872),o=t(678540),l=t(121126),d=t(513800);let p=async({assets:e,compSize:a,licensedContent:t,supplementalUrlType:r})=>{let{downloadUrl:s,contentId:m,contentFormat:l,contentSize:p,supplementalUrls:c}=t[0]||{};if(c?.length&&r){let{url:e=s}=c.find(({type:e})=>e===r)||{};return e}let g=e.find(({id:e})=>e===m)||{},_=(0,o.f0)(g),{filename:u,shouldUpdateFilename:y}=(0,i.V)({assets:e,contentId:m});if(y)try{let{data:e}=await d.Bn.post((0,n.Xt)().formattedUrl,{data:[{media_id:g.id,media_type:_,comp_size:a,media_size:p,media_format:l,filename:u}]}),{attributes:t}=e?.data[0]||{};return t.url||s}catch(e){}return s},c=async({assets:e=[],compSize:a,assetSize:t,licensedContent:n=[],downloader:r=l.Bx,shouldUseClientZip:s})=>{if(n.length>1){let a,t=(0,i.P)({assets:e,licensedContent:n});return(a=s?await (0,l.eG)(t.content):await (0,l.fX)({downloadBundlePayload:t}),r===l.Bx)?r(a,{name:t.bundleFilename}):r(a)}return r(await p({assets:e,compSize:a,assetSize:t,licensedContent:n}))},g=(e=[])=>e.map(e=>{let a=(0,m.xB)({asset:e});return{...e,assetType:a,licenseId:s.H8E[a]}}),_=async()=>{let{url:e}=(0,n.PX)();try{return(await d.Bn.get(e).then(e=>e?.data)).reduce((e,a)=>({...e,[a.name]:"-"}),{})}catch(e){return{}}},u=async({assets:e,assetSize:a,format:t,metadata:n,selectedAssetSize:r}={})=>{let i=n;return i||(i=await _()),{assets:g(e),format:t||"",licenseMetadata:i,licensingType:s.jO3,selectedAssetSize:a||r||"",isVideoComp:!0}},y=(e=[])=>(0,m.ZC)({asset:e[0]||{}})===r.FY,f=(e=[])=>[r.vo,r.W1,r.kc].includes((0,m.ZC)({asset:e[0]||{}}))},872538:(e,a,t)=>{t.d(a,{J9:()=>s,M5:()=>r});var n=t(951348);let r=()=>{let e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,n.format)({pathname:e})}},s=()=>{let e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,n.format)({pathname:e})}}},932862:(e,a,t)=>{t.d(a,{nQ:()=>D,EH:()=>z,Nz:()=>N,D3:()=>O,lp:()=>P,Cn:()=>V,qE:()=>x,P5:()=>M,LV:()=>U});var n=t(842561);let r=JSON.parse('{"id":"32cd42c0f658e4328d24f4f816722b29c69a85ea1d35b562f1c411d77eca2580","type":"mutation","name":"ApplyTransparencyMask","source":"mutation ApplyTransparencyMask($sourceAssetId:SourceAssetId!,$mask:String!,$maskType:MaskType!){initiateGenerationResponse:applyTransparencyMask(sourceAssetId:$sourceAssetId mask:$mask maskType:$maskType){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),s=JSON.parse('{"id":"3e8512ec304af5f86006e05da8b81453a88c174bee15734d829c32857aaadc95","type":"mutation","name":"GenerateImageInpainting","source":"mutation GenerateImageInpainting($sourceAssetId:SourceAssetId!,$limit:Int!,$mask:String!,$maskType:MaskType!,$text:String){initiateGenerationResponse:generateImageInpainting(sourceAssetId:$sourceAssetId limit:$limit mask:$mask maskType:$maskType text:$text){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),i=JSON.parse('{"id":"e69c542448400b3e764d11d0ebdbbc3ea820d84f4a5101f6dc895fab16d542d7","type":"mutation","name":"GenerateImageVariations","source":"mutation GenerateImageVariations($sourceAssetId:SourceAssetId!,$limit:Int!){initiateGenerationResponse:generateImageVariations(sourceAssetId:$sourceAssetId limit:$limit){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),m=JSON.parse('{"id":"b45f847228d475638ef4787455ab378237ee24d68750cd6fe5a8105c7641b598","type":"mutation","name":"InitiateTextToImageGeneration","source":"mutation InitiateTextToImageGeneration($formatId:GeneratedImageFormatId,$limit:Int!,$text:String!,$additionalOptions:JSONObject,$aspectRatio:GeneratedImageAspectRatio,$language:String,$locale:String,$styleId:ID,$referenceImages:[ReferenceImageInput!],$model:ID){initiateGenerationResponse:generateImagesFromText(formatId:$formatId limit:$limit text:$text additionalOptions:$additionalOptions aspectRatio:$aspectRatio language:$language locale:$locale styleId:$styleId referenceImages:$referenceImages model:$model){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),o=JSON.parse('{"id":"e2be9babadfc364acb1207f1a0eac2c6e9f705f6440a8e7ed0a82dc7ec64ffd6","type":"mutation","name":"GenerateImageZoomOut","source":"mutation GenerateImageZoomOut($sourceAssetId:SourceAssetId!,$limit:Int!,$additionalOptions:JSONObject){initiateGenerationResponse:generateZoomedOutImages(sourceAssetId:$sourceAssetId limit:$limit additionalOptions:$additionalOptions){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),l=JSON.parse('{"id":"663f6fc8116ba456ad68039ffe41b42583eb4b036865382a3791a7ea8217238f","type":"query","name":"FetchEditsGenerativeInputs","source":"query FetchEditsGenerativeInputs($language:String){generativeInputs{data{imageToVideo{...ImageToVideoInputsFragment __typename}__typename}__typename}}fragment ImageToVideoInputsFragment on GenerativeInputsForImageToVideo{aspectRatios{id name(language:$language)__typename}__typename}"}'),d=JSON.parse('{"id":"abfbac3a6221a4f11914347cff0c143ff95c9ad5d299d81e74989b9059a8cbee","type":"query","name":"fetchGeneratedImageReviewStatus","source":"query fetchGeneratedImageReviewStatus($assetId:ID!){generatedAsset(assetId:$assetId){data{...on GeneratedImage{registeredImage{isIpReviewed ipReviewStatus{isAppealable rejectionReasons status __typename}referenceIds{name namespace value __typename}__typename}__typename}__typename}__typename}}"}'),p=JSON.parse('{"id":"3c049a09d92d9e35289e3d4f682426271ea173dc979f2e1fc03b2fdd92a40e00","type":"query","name":"fetchGenerationHistory","source":"query fetchGenerationHistory($request:AssetGenerationHistoryInput,$language:String){generationHistory(request:$request){data{...GenerationStatusFragment requestTime __typename}paginationInfo{currentPage totalPages totalCount __typename}__typename}}fragment GenerationStatusFragment on AssetGenerationStatus{assets{...GeneratedAssetV2Fragment __typename}errorCode errorDetails(language:$language){description imageUrl __typename}generationMetadata{...GenerationMetadataFragment __typename}isPrivate registrationEligibility{canRegister originalImage{...SourceAssetFragment __typename}__typename}status trackingId{...TrackingIdFragment __typename}__typename}fragment GeneratedAssetV2Fragment on GeneratedAssetV2{...on GeneratedImage{...GeneratedImageFragment __typename}...on GeneratedVideo{...GeneratedVideoFragment __typename}__typename}fragment GeneratedImageFragment on GeneratedImage{id displayPrompt position small{...GeneratedImageSourceFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...GeneratedImageSourceFragment __typename}__typename}fragment GeneratedImageSourceFragment on GeneratedImageSource{src height width __typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment GeneratedVideoFragment on GeneratedVideo{id displayPrompt thumbnail{...GeneratedImageSourceFragment __typename}small{...GeneratedVideoSourceFragment __typename}watermarked{...GeneratedVideoSourceFragment __typename}__typename}fragment GeneratedVideoSourceFragment on GeneratedVideoSource{fps resolution{...GraphVideoResolution __typename}src __typename}fragment GraphVideoResolution on VideoResolution{height width __typename}fragment GenerationMetadataFragment on GenerationMetadata{__typename...on TextToImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}referenceImages{image{...SourceAssetFragment __typename}type __typename}style{...StyleBasicFragment __typename}text model{...ModelFragment __typename}__typename}...on ImageVariationGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on ZoomedOutImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on InpaintingImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}maskDriven text __typename}...on ImageRemoveObjectsGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}__typename}...on ApplyTransparencyMaskGenerationMetadata{additionalOptions sourceAsset{...SourceAssetFragment __typename}__typename}...on ImageToVideoGenerationMetadata{additionalOptions videoAspectRatio:aspectRatio{...VideoAspectRatioFragment __typename}images{...SourceAssetFragment __typename}text __typename}}fragment AspectRatioFragment on GeneratedImageAspectRatioResponse{id name(language:$language)__typename}fragment SourceAssetFragment on SourceAssetImage{__typename...on GeneratedAsset{...GeneratedAssetFragment __typename}...on GeneratedImage{...GeneratedImageFragment __typename}...on CreativeImage{...CreativeImageFragment __typename}...on UserImage{...UserImageFragment __typename}}fragment GeneratedAssetFragment on GeneratedAsset{id displayPrompt small{...ImageSourceSizeFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...ImageSourceSizeFragment __typename}__typename}fragment ImageSourceSizeFragment on AssetSource{src height width __typename}fragment CreativeImageFragment on CreativeImage{__typename classicId description isAdult isIllustration isVector is3dSpinner isGenerated channels contentTier{id __typename}contentTiers thumbnailImageUrlTemplate secureWatermarkImageUrl sellableImageSizes{...on SellableCreativeImageJpgSize{...SellableCreativeImageJpgSizeFragment __typename}...on SellableCreativeImageVectorSize{...SellableCreativeImageVectorSizeFragment __typename}__typename}aspect metadataStatus{mainStatus qualifierStatus __typename}keywords}fragment SellableCreativeImageJpgSizeFragment on SellableCreativeImageJpgSize{__typename name displayName format dpi height{inchesLabel centimetersLabel pixels __typename}width{inchesLabel centimetersLabel pixels __typename}}fragment SellableCreativeImageVectorSizeFragment on SellableCreativeImageVectorSize{__typename name displayName format}fragment UserImageFragment on UserImage{__typename productId height width thumbnailUrl imageVariants{size500 size1500 __typename}}fragment ModelFragment on GenerativeSelectableModel{id displayName(language:$language)logoUrlLight shortDescription(language:$language)__typename}fragment VideoAspectRatioFragment on GeneratedVideoAspectRatioResponse{id name(language:$language)__typename}fragment TrackingIdFragment on TrackingId{svc uuid __typename}"}'),c=JSON.parse('{"id":"eb1cc4b00a7f8d8fe37a00e605b5857b98fa32542c6127029044431e7b92b2d9","type":"query","name":"fetchGenerationResults","source":"query fetchGenerationResults($id:String!,$language:String){generationStatus(trackingId:{uuid:$id}){data{...GenerationStatusFragment __typename}problems{__typename message}__typename}}fragment GenerationStatusFragment on AssetGenerationStatus{assets{...GeneratedAssetV2Fragment __typename}errorCode errorDetails(language:$language){description imageUrl __typename}generationMetadata{...GenerationMetadataFragment __typename}isPrivate registrationEligibility{canRegister originalImage{...SourceAssetFragment __typename}__typename}status trackingId{...TrackingIdFragment __typename}__typename}fragment GeneratedAssetV2Fragment on GeneratedAssetV2{...on GeneratedImage{...GeneratedImageFragment __typename}...on GeneratedVideo{...GeneratedVideoFragment __typename}__typename}fragment GeneratedImageFragment on GeneratedImage{id displayPrompt position small{...GeneratedImageSourceFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...GeneratedImageSourceFragment __typename}__typename}fragment GeneratedImageSourceFragment on GeneratedImageSource{src height width __typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment GeneratedVideoFragment on GeneratedVideo{id displayPrompt thumbnail{...GeneratedImageSourceFragment __typename}small{...GeneratedVideoSourceFragment __typename}watermarked{...GeneratedVideoSourceFragment __typename}__typename}fragment GeneratedVideoSourceFragment on GeneratedVideoSource{fps resolution{...GraphVideoResolution __typename}src __typename}fragment GraphVideoResolution on VideoResolution{height width __typename}fragment GenerationMetadataFragment on GenerationMetadata{__typename...on TextToImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}referenceImages{image{...SourceAssetFragment __typename}type __typename}style{...StyleBasicFragment __typename}text model{...ModelFragment __typename}__typename}...on ImageVariationGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on ZoomedOutImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on InpaintingImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}maskDriven text __typename}...on ImageRemoveObjectsGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}__typename}...on ApplyTransparencyMaskGenerationMetadata{additionalOptions sourceAsset{...SourceAssetFragment __typename}__typename}...on ImageToVideoGenerationMetadata{additionalOptions videoAspectRatio:aspectRatio{...VideoAspectRatioFragment __typename}images{...SourceAssetFragment __typename}text __typename}}fragment AspectRatioFragment on GeneratedImageAspectRatioResponse{id name(language:$language)__typename}fragment SourceAssetFragment on SourceAssetImage{__typename...on GeneratedAsset{...GeneratedAssetFragment __typename}...on GeneratedImage{...GeneratedImageFragment __typename}...on CreativeImage{...CreativeImageFragment __typename}...on UserImage{...UserImageFragment __typename}}fragment GeneratedAssetFragment on GeneratedAsset{id displayPrompt small{...ImageSourceSizeFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...ImageSourceSizeFragment __typename}__typename}fragment ImageSourceSizeFragment on AssetSource{src height width __typename}fragment CreativeImageFragment on CreativeImage{__typename classicId description isAdult isIllustration isVector is3dSpinner isGenerated channels contentTier{id __typename}contentTiers thumbnailImageUrlTemplate secureWatermarkImageUrl sellableImageSizes{...on SellableCreativeImageJpgSize{...SellableCreativeImageJpgSizeFragment __typename}...on SellableCreativeImageVectorSize{...SellableCreativeImageVectorSizeFragment __typename}__typename}aspect metadataStatus{mainStatus qualifierStatus __typename}keywords}fragment SellableCreativeImageJpgSizeFragment on SellableCreativeImageJpgSize{__typename name displayName format dpi height{inchesLabel centimetersLabel pixels __typename}width{inchesLabel centimetersLabel pixels __typename}}fragment SellableCreativeImageVectorSizeFragment on SellableCreativeImageVectorSize{__typename name displayName format}fragment UserImageFragment on UserImage{__typename productId height width thumbnailUrl imageVariants{size500 size1500 __typename}}fragment ModelFragment on GenerativeSelectableModel{id displayName(language:$language)logoUrlLight shortDescription(language:$language)__typename}fragment VideoAspectRatioFragment on GeneratedVideoAspectRatioResponse{id name(language:$language)__typename}fragment TrackingIdFragment on TrackingId{svc uuid __typename}"}'),g=JSON.parse('{"id":"95befb7e9e1e1cfa90ef26f8f9bd2f15c5104a6ea8eb518ad3425d26221775e8","type":"query","name":"fetchGenerativeAccountDetails","source":"query fetchGenerativeAccountDetails($requestTypes:[GenerationType!]){generativeAccountDetails{data{credits{...GenerativeCredits __typename}features(requestTypes:$requestTypes){data{requestType features{isPrivateGenerationsEnabled isProModeEnabled isPromptEnrichmentEnabled __typename}__typename}problems{...ProblemFragment __typename}__typename}__typename}problems{...ProblemFragment __typename}__typename}}fragment GenerativeCredits on GenerativeCreditsResponseWrapper{data{usesCredits creditsInfo{nextRenewalDate totalCreditsRemaining __typename}__typename}problems{...ProblemFragment __typename}__typename}fragment ProblemFragment on Problem{__typename message}"}'),_=JSON.parse('{"id":"65bfba090306d6da66616f58b7c8bd00f71a15ebad23aeeba389ae93a33dc0ef","type":"query","name":"FetchGenerativeUpsellInfo","source":"query FetchGenerativeUpsellInfo{generativeUpsellInfo{data{purchasableProducts{...PurchasableProductsFragment __typename}upsellType __typename}problems{__typename message}__typename}}fragment PurchasableProductsFragment on GenerativeProductVariation{credits description extraInformation eligibleForRebilling license id name price prices{usd eur aud jpy gbp dkk chf sek rub brl cad krw nok sgd inr __typename}__typename}"}'),u=JSON.parse('{"id":"f3533d5ba9ab1903e354aa673a4d2c910ce97dc1747b95e0d44ce064612b23b9","type":"query","name":"fetchImageFormatsAndStyles","source":"query fetchImageFormatsAndStyles($size:Int,$language:String,$format:GeneratedImageFormatId!,$selectedStyles:[ID!]){generatedImageFormats{...FormatFragment __typename}generatedImageStyles(where:{formatId:$format,limit:$size,existingStyleIds:$selectedStyles}){...StyleBasicFragment __typename}}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}"}'),y=JSON.parse('{"id":"502c88b377a868a5528b64247c9f6bfaed73919e6baf4dce73a71292776e135c","type":"query","name":"fetchUpscalingStatus","source":"query fetchUpscalingStatus($assetId:AssetIdInput!){upscalingStatus(assetId:$assetId){data{status __typename}__typename}}"}');var f=t(200291),I=t(647588),S=t(489741),F=t(968481);let{publicRuntimeConfig:{apiEndpoints:b}}=t.n(F)()(),{TextToImage:h,Variation:v,ZoomOut:A,InPaint:G,ImageRemoveObjects:w,ApplyTransparencyMask:R,TextTo_3D:$,ImageTo_3D:k,ImageToVideo:C}=f.jz,T={[h]:m.source,[v]:i.source,[A]:o.source,[G]:s.source,[R]:r.source,[w]:"",[$]:"",[k]:"",[C]:""},q=({generationType:e})=>e===h?n.YY:n.BY,O=({brand:e,experiments:a,generationId:t,headers:r,locale:s})=>{let i={id:t,...s&&{language:s}};return{query:c.source,variables:i,formattedRequest:{url:`${b.graphGateway}/graphql`,document:c.source,variables:i,requestHeaders:{...(0,S.C)({brand:e,experiments:a,page:"generate",appName:n.C3}),...r}}}},V=({brand:e,experiments:a,headers:t,generationType:r})=>{let s=r?{requestType:r}:void 0;return{query:g.source,variables:s,formattedRequest:{url:`${b.graphGateway}/graphql`,document:g.source,variables:s,requestHeaders:{...(0,S.C)({brand:e,experiments:a,page:"generate",appName:n.C3}),...t}}}},x=({brand:e,experiments:a,headers:t})=>({query:_.source,variables:void 0,formattedRequest:{url:`${b.graphGateway}/graphql`,document:_.source,variables:void 0,requestHeaders:{...(0,S.C)({brand:e,experiments:a,page:"generate",appName:n.C3}),...t}}}),N=({assetId:e,brand:a,experiments:t,headers:n})=>{let r={assetId:e};return{query:d.source,variables:r,formattedRequest:{url:`${b.graphGateway}/graphql`,document:d.source,variables:r,headers:{...(0,S.C)({brand:a,experiments:t,page:"generate"}),...n}}}},z=({brand:e,experiments:a,format:t,headers:r={},locale:s,selectedStyles:i,size:m})=>{let o={format:t&&t!==f.Jv.None?t:f.Jv.All,language:s,...m?{size:m}:{},...i?{selectedStyles:[].concat(i)}:{}};return{query:u.source,variables:o,formattedRequest:{url:`${b.graphGateway}/graphql`,document:u.source,variables:o,requestHeaders:{...(0,S.C)({brand:e,experiments:a,page:"generate",appName:n.C3}),...r},timeout:(0,I.NF)()?350:6e3}}},M=({additionalOptions:e,aspectRatio:a,assetId:t,experiments:r,brand:s,format:i,generationType:m,headers:o={},limit:l,locale:d,mask:p,maskType:c,prompt:g,referenceImages:_,sourceAssetType:u,styles:y,model:I})=>{let F=i||y||m!==f.jz.TextToImage?i:f.Jv.None,h=f.fz.GeneratedImage;u===f.fz.CreativeImage&&(h=f.fz.CreativeImage),u===f.fz.UserImage&&(h=f.fz.UserImage);let v={limit:l||q({generationType:m}),...g&&{text:g},...d&&{language:d},...F&&{formatId:F},...y&&{styleId:y},...a&&{aspectRatio:a},...t&&{sourceAssetId:{id:t,type:h}},...c&&{maskType:c},...p&&{mask:p},...e&&{additionalOptions:e},..._&&{referenceImages:_},...I&&{model:I}},A=T[m];return{query:A,variables:v,formattedRequest:{url:`${b.graphGateway}/graphql`,document:A,variables:v,requestHeaders:{...(0,S.C)({brand:s,experiments:r,page:"generate",appName:n.C3}),...o}}}},P=({experiments:e,limit:a,order:t,headers:r={},brand:s,appName:i=n.C3,locale:m,from:o,searchTerm:l,generationTypeIncludes:d})=>{let c={request:{searchTerm:l,limit:a,order:t,status:f.HM.Completed,resultsAfter:o,...d&&{requestTypeWhere:{anyOf:d}}},language:m};return{query:p.source,variables:c,formattedRequest:{url:`${b.graphGateway}/graphql`,document:p.source,variables:c,requestHeaders:{...(0,S.C)({brand:s,experiments:e,page:"generate",appName:i}),...r}}}},U=({assetId:e,brand:a,headers:t={},page:r})=>{let s={assetId:e};return{query:y.source,variables:s,formattedRequest:{url:`${b.graphGateway}/graphql`,document:y.source,variables:s,requestHeaders:{...(0,S.C)({brand:a,page:r,appName:n.C3}),...t}}}},D=({brand:e,experiments:a,headers:t,locale:r})=>{let s={language:r};return{query:l.source,variables:s,formattedRequest:{url:`${b.graphGateway}/graphql`,document:l.source,variables:s,requestHeaders:{...(0,S.C)({brand:e,experiments:a,page:"peacock",appName:n.JY}),...t}}}}},997495:(e,a,t)=>{t.d(a,{P:()=>l,V:()=>o});var n=t(678540),r=t(505347);let s="shutterstock",i="shutterstock_editorial",m=({asset:e})=>(0,n.Uh)(e)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,n.zz)({asset:e})?{prefix:i,shouldUpdateFilename:!1}:{prefix:s,shouldUpdateFilename:!1},o=({assets:e,contentId:a})=>{let{prefix:t,shouldUpdateFilename:n}=m({asset:e.find(({id:e})=>e===a)||{}});return{filename:`${t}_${a}`,shouldUpdateFilename:n}},l=({assets:e=[],licensedContent:a=[]})=>{let t=e.every(e=>(0,n.zz)({asset:e})),m=a.map(({contentId:a,downloadUrl:t,contentFormat:n})=>{let{filename:r}=o({assets:e,contentId:a}),s=t.split("/").pop().split("?").shift().split(".").pop();return(s.length>4||s.length<2)&&(s=n),{filename:`${r}.${s}`,url:t}}),l=(0,r.kX)();return{bundleFilename:`${t?i:s}_${l}.zip`,content:m}}}}]);
//# sourceMappingURL=80015-d77c15134492d809.js.map